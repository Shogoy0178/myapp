<%= content_for :title, "#{@user.name} さんの情報を編集" %>

<div class="edit-user">
  <div class="edit-user-form">
    <h1><%= @user.name %> さんの情報を編集</h1>

    <%= form_with model: @user, local: true, data: { turbo: false } do |f| %>
      <!-- 名前 -->
      <div class="mb-3">
        <%= f.label :name, '名前', class: 'form-label' %>
        <%= f.text_field :name, class: 'form-control' %>
      </div>

      <!-- メールアドレス -->
      <div class="mb-3">
        <%= f.label :email, 'メールアドレス', class: 'form-label' %>
        <%= f.email_field :email, class: 'form-control' %>
      </div>

      <!-- パスワード -->
      <div class="mb-3">
        <%= f.label :password, 'パスワード', class: 'form-label' %>
        <%= f.password_field :password, class: 'form-control', placeholder: '変更しない場合は空欄のままにしてください' %>
      </div>

      <!-- パスワード確認 -->
      <div class="mb-3">
        <%= f.label :password_confirmation, 'パスワード確認', class: 'form-label' %>
        <%= f.password_field :password_confirmation, class: 'form-control' %>
      </div>

      <!-- アバター画像 -->
      <div class="mb-3 avatar-preview">
        <% if @user.avatar.attached? %>
          <img src="<%= url_for(@user.avatar) %>" alt="Avatar Preview" />
        <% end %>
        <%= f.label :avatar, '現在のアバター画像', class: 'form-label' %>
        <%= f.file_field :avatar, class: 'form-control' %>
      </div>

      <!-- ボタン -->
      <div class="submit-button-container">
        <%= f.submit '更新', class: 'btn btn-primary submit-button' %>
        <%= link_to 'キャンセル', user_path(@user), class: 'btn btn-secondary submit-button' %>
      </div>
    <% end %>
  </div>
</div>
